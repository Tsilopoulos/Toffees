2017-11-22 23:49:49.009 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2017-11-22 23:49:49.055 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-22 23:49:49.058 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-22 23:49:49.059 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-22 23:49:49.059 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-22 23:49:49.059 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 00:25:11.104 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 00:25:11.139 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 00:25:11.140 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 00:25:11.142 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 00:25:11.143 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 00:25:36.848 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 00:25:36.884 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 00:25:36.885 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 00:25:36.887 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 00:25:36.888 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 00:56:10.117 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 00:56:10.155 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 00:56:10.158 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 00:56:10.160 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 00:56:10.163 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 00:56:10.329 +02:00 [DBG] Starting token cleanup
2017-11-23 00:56:40.369 +02:00 [INF] Clearing 0 tokens
2017-11-23 00:57:09.206 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2017-11-23 00:57:09.237 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2017-11-23 00:57:09.240 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2017-11-23 00:57:09.246 +02:00 [DBG] Start discovery request
2017-11-23 00:57:09.459 +02:00 [DBG] Found ["openid","profile","biometric_api.full_access","biometric_api.read_only"] as all scopes in database
2017-11-23 00:57:10.384 +02:00 [INF] Clearing 0 tokens
2017-11-23 00:57:19.113 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2017-11-23 00:57:40.391 +02:00 [INF] Clearing 0 tokens
2017-11-23 00:58:10.397 +02:00 [INF] Clearing 0 tokens
2017-11-23 00:58:40.402 +02:00 [INF] Clearing 0 tokens
2017-11-23 00:59:10.408 +02:00 [INF] Clearing 0 tokens
2017-11-23 00:59:29.305 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 00:59:29.314 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 00:59:29.317 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 00:59:29.329 +02:00 [DBG] Start token request.
2017-11-23 00:59:29.339 +02:00 [DBG] Start client validation
2017-11-23 00:59:29.351 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 00:59:29.356 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 00:59:29.369 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 00:59:29.371 +02:00 [DBG] Secret id found: postman
2017-11-23 00:59:29.463 +02:00 [DBG] postman found in database: false
2017-11-23 00:59:29.514 +02:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "postman",
  "Message": "Unknown client",
  "ActivityId": "0HL9HVH139TV5:00000001",
  "TimeStamp": "2017-11-22T22:59:29Z",
  "ProcessId": 1724,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 00:59:29.517 +02:00 [ERR] No client with id 'postman' found. aborting
2017-11-23 00:59:39.065 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 00:59:39.068 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 00:59:39.070 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 00:59:39.072 +02:00 [DBG] Start token request.
2017-11-23 00:59:39.073 +02:00 [DBG] Start client validation
2017-11-23 00:59:39.074 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 00:59:39.077 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 00:59:39.079 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 00:59:39.081 +02:00 [DBG] Secret id found: angular
2017-11-23 00:59:39.253 +02:00 [DBG] angular found in database: true
2017-11-23 00:59:39.256 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 00:59:39.257 +02:00 [DBG] Client validation success
2017-11-23 00:59:39.264 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVH139TV5:00000002",
  "TimeStamp": "2017-11-22T22:59:39Z",
  "ProcessId": 1724,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 00:59:39.275 +02:00 [DBG] Start token request validation
2017-11-23 00:59:39.289 +02:00 [DBG] Start validation of custom grant token request
2017-11-23 00:59:39.292 +02:00 [ERR] No validator is registered for the grant type: implicit
2017-11-23 00:59:39.303 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "implicit",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "implicit",
    "scope": "biometric_api.full_access",
    "username": "alice",
    "": "Pass123$"
  }
}
2017-11-23 00:59:39.315 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "implicit",
  "Error": "unsupported_grant_type",
  "ActivityId": "0HL9HVH139TV5:00000002",
  "TimeStamp": "2017-11-22T22:59:39Z",
  "ProcessId": 1724,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 00:59:40.416 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:00:10.422 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:00:40.428 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:01:10.433 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:01:40.441 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:01:48.567 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:01:48.570 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:01:48.572 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:01:48.574 +02:00 [DBG] Start token request.
2017-11-23 01:01:48.575 +02:00 [DBG] Start client validation
2017-11-23 01:01:48.577 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:01:48.579 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:01:48.580 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:01:48.582 +02:00 [DBG] Secret id found: angular
2017-11-23 01:01:48.623 +02:00 [DBG] angular found in database: true
2017-11-23 01:01:48.625 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:01:48.627 +02:00 [DBG] Client validation success
2017-11-23 01:01:48.628 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVH139TV7:00000001",
  "TimeStamp": "2017-11-22T23:01:48Z",
  "ProcessId": 1724,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:01:48.631 +02:00 [DBG] Start token request validation
2017-11-23 01:01:48.638 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:01:48.640 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:01:48.642 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "alice",
    "": "Pass123$"
  }
}
2017-11-23 01:01:48.645 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVH139TV7:00000001",
  "TimeStamp": "2017-11-22T23:01:48Z",
  "ProcessId": 1724,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:01:58.517 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:01:58.520 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:01:58.522 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:01:58.524 +02:00 [DBG] Start token request.
2017-11-23 01:01:58.525 +02:00 [DBG] Start client validation
2017-11-23 01:01:58.527 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:01:58.529 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:01:58.530 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:01:58.532 +02:00 [DBG] Secret id found: angular
2017-11-23 01:01:58.539 +02:00 [DBG] angular found in database: true
2017-11-23 01:01:58.541 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:01:58.542 +02:00 [DBG] Client validation success
2017-11-23 01:01:58.544 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVH139TV7:00000002",
  "TimeStamp": "2017-11-22T23:01:58Z",
  "ProcessId": 1724,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:01:58.547 +02:00 [DBG] Start token request validation
2017-11-23 01:01:58.549 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:01:58.550 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:01:58.552 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "alice",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:01:58.555 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVH139TV7:00000002",
  "TimeStamp": "2017-11-22T23:01:58Z",
  "ProcessId": 1724,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:02:10.446 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:02:40.452 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:03:10.458 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:03:40.463 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:03:44.050 +02:00 [DBG] TaskCanceledException. Exiting.
2017-11-23 01:03:44.068 +02:00 [DBG] Stopping token cleanup
2017-11-23 01:07:10.468 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:07:10.505 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:07:10.507 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:07:10.509 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:07:10.513 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:07:10.632 +02:00 [DBG] Starting token cleanup
2017-11-23 01:07:40.933 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:08:10.946 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:08:40.958 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:09:10.963 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:09:40.974 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:09:42.721 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:09:42.750 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:09:42.753 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:09:42.764 +02:00 [DBG] Start token request.
2017-11-23 01:09:42.774 +02:00 [DBG] Start client validation
2017-11-23 01:09:42.782 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:09:42.787 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:09:42.801 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:09:42.803 +02:00 [DBG] Secret id found: angular
2017-11-23 01:09:43.581 +02:00 [DBG] angular found in database: true
2017-11-23 01:09:43.584 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:09:43.585 +02:00 [DBG] Client validation success
2017-11-23 01:09:43.664 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVOEL0GB8:00000001",
  "TimeStamp": "2017-11-22T23:09:43Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:09:43.677 +02:00 [DBG] Start token request validation
2017-11-23 01:09:43.688 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:09:43.691 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:09:43.718 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "alice",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:09:43.730 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVOEL0GB8:00000001",
  "TimeStamp": "2017-11-22T23:09:43Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:10:10.990 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:10:27.331 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:10:27.340 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:10:27.341 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:10:27.343 +02:00 [DBG] Start token request.
2017-11-23 01:10:27.344 +02:00 [DBG] Start client validation
2017-11-23 01:10:27.345 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:10:27.347 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:10:27.349 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:10:27.350 +02:00 [DBG] Secret id found: 3
2017-11-23 01:10:27.357 +02:00 [DBG] 3 found in database: false
2017-11-23 01:10:27.364 +02:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "3",
  "Message": "Unknown client",
  "ActivityId": "0HL9HVOEL0GB8:00000002",
  "TimeStamp": "2017-11-22T23:10:27Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:10:27.367 +02:00 [ERR] No client with id '3' found. aborting
2017-11-23 01:10:33.924 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:10:33.928 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:10:33.930 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:10:33.932 +02:00 [DBG] Start token request.
2017-11-23 01:10:33.933 +02:00 [DBG] Start client validation
2017-11-23 01:10:33.936 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:10:33.937 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:10:33.940 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:10:33.941 +02:00 [DBG] Secret id found: angular
2017-11-23 01:10:33.950 +02:00 [DBG] angular found in database: true
2017-11-23 01:10:33.951 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:10:33.953 +02:00 [DBG] Client validation success
2017-11-23 01:10:33.955 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVOEL0GB8:00000003",
  "TimeStamp": "2017-11-22T23:10:33Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:10:33.960 +02:00 [DBG] Start token request validation
2017-11-23 01:10:33.961 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:10:33.962 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:10:33.965 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "alice",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:10:33.969 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVOEL0GB8:00000003",
  "TimeStamp": "2017-11-22T23:10:33Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:10:41.009 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:11:11.025 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:11:18.043 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:11:18.047 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:11:18.049 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:11:18.051 +02:00 [DBG] Start token request.
2017-11-23 01:11:18.052 +02:00 [DBG] Start client validation
2017-11-23 01:11:18.054 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:11:18.056 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:11:18.057 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:11:18.059 +02:00 [DBG] Secret id found: postman
2017-11-23 01:11:18.062 +02:00 [DBG] postman found in database: false
2017-11-23 01:11:18.066 +02:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "postman",
  "Message": "Unknown client",
  "ActivityId": "0HL9HVOEL0GB8:00000004",
  "TimeStamp": "2017-11-22T23:11:18Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:11:18.077 +02:00 [ERR] No client with id 'postman' found. aborting
2017-11-23 01:11:35.077 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:11:35.081 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:11:35.083 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:11:35.085 +02:00 [DBG] Start token request.
2017-11-23 01:11:35.087 +02:00 [DBG] Start client validation
2017-11-23 01:11:35.089 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:11:35.090 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:11:35.092 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:11:35.094 +02:00 [DBG] Secret id found: mvc
2017-11-23 01:11:35.105 +02:00 [DBG] mvc found in database: true
2017-11-23 01:11:35.117 +02:00 [DBG] No matching hashed secret found.
2017-11-23 01:11:35.119 +02:00 [DBG] Secret validators could not validate secret
2017-11-23 01:11:35.120 +02:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "mvc",
  "Message": "Invalid client secret",
  "ActivityId": "0HL9HVOEL0GB8:00000005",
  "TimeStamp": "2017-11-22T23:11:35Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:11:35.124 +02:00 [ERR] Client secret validation failed for client: mvc.
2017-11-23 01:11:41.037 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:11:48.828 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:11:48.830 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:11:48.832 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:11:48.833 +02:00 [DBG] Start token request.
2017-11-23 01:11:48.834 +02:00 [DBG] Start client validation
2017-11-23 01:11:48.835 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:11:48.837 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:11:48.839 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:11:48.840 +02:00 [DBG] Secret id found: angular
2017-11-23 01:11:48.847 +02:00 [DBG] angular found in database: true
2017-11-23 01:11:48.848 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:11:48.850 +02:00 [DBG] Client validation success
2017-11-23 01:11:48.851 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVOEL0GB8:00000006",
  "TimeStamp": "2017-11-22T23:11:48Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:11:48.853 +02:00 [DBG] Start token request validation
2017-11-23 01:11:48.856 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:11:48.857 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:11:48.858 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "alice",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:11:48.862 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVOEL0GB8:00000006",
  "TimeStamp": "2017-11-22T23:11:48Z",
  "ProcessId": 7764,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:12:11.041 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:12:41.053 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:13:11.069 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:13:41.073 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:13:59.372 +02:00 [DBG] TaskCanceledException. Exiting.
2017-11-23 01:13:59.388 +02:00 [DBG] Stopping token cleanup
2017-11-23 01:14:32.086 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:14:32.123 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:14:32.124 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:14:32.126 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:14:32.128 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:14:32.245 +02:00 [DBG] Starting token cleanup
2017-11-23 01:15:02.552 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:15:25.661 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:15:25.687 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:15:25.690 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:15:25.701 +02:00 [DBG] Start token request.
2017-11-23 01:15:25.710 +02:00 [DBG] Start client validation
2017-11-23 01:15:25.717 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:15:25.723 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:15:25.736 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:15:25.738 +02:00 [DBG] Secret id found: postman
2017-11-23 01:15:26.010 +02:00 [DBG] postman found in database: false
2017-11-23 01:15:26.093 +02:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "postman",
  "Message": "Unknown client",
  "ActivityId": "0HL9HVRKRHHUA:00000001",
  "TimeStamp": "2017-11-22T23:15:26Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:15:26.096 +02:00 [ERR] No client with id 'postman' found. aborting
2017-11-23 01:15:32.571 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:15:40.858 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:15:40.868 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:15:40.872 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:15:40.874 +02:00 [DBG] Start token request.
2017-11-23 01:15:40.875 +02:00 [DBG] Start client validation
2017-11-23 01:15:40.877 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:15:40.878 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:15:40.879 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:15:40.880 +02:00 [DBG] Secret id found: angular
2017-11-23 01:15:41.461 +02:00 [DBG] angular found in database: true
2017-11-23 01:15:41.464 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:15:41.466 +02:00 [DBG] Client validation success
2017-11-23 01:15:41.473 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVRKRHHUA:00000002",
  "TimeStamp": "2017-11-22T23:15:41Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:15:41.487 +02:00 [DBG] Start token request validation
2017-11-23 01:15:41.498 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:15:41.500 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:15:41.529 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "alice",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:15:41.541 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVRKRHHUA:00000002",
  "TimeStamp": "2017-11-22T23:15:41Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:16:02.586 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:16:32.602 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:17:02.616 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:17:22.322 +02:00 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2017-11-23 01:17:22.555 +02:00 [INF] {
  "Name": "User Login Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1001,
  "Username": "alice",
  "Endpoint": "UI",
  "Message": "invalid credentials",
  "ActivityId": "0HL9HVRKRHHUB:00000003",
  "TimeStamp": "2017-11-22T23:17:22Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:17:32.634 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:17:55.382 +02:00 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2017-11-23 01:17:55.401 +02:00 [INF] {
  "Name": "User Login Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1001,
  "Username": "alice",
  "Endpoint": "UI",
  "Message": "invalid credentials",
  "ActivityId": "0HL9HVRKRHHUB:00000009",
  "TimeStamp": "2017-11-22T23:17:55Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:18:02.648 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:18:32.665 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:19:02.674 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:19:32.679 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:20:02.684 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:20:32.694 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:21:02.699 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:21:32.710 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:22:02.718 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:22:21.508 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:22:21.512 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:22:21.514 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:22:21.515 +02:00 [DBG] Start token request.
2017-11-23 01:22:21.517 +02:00 [DBG] Start client validation
2017-11-23 01:22:21.519 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:22:21.521 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:22:21.524 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:22:21.526 +02:00 [DBG] Secret id found: angular
2017-11-23 01:22:21.562 +02:00 [DBG] angular found in database: true
2017-11-23 01:22:21.564 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:22:21.566 +02:00 [DBG] Client validation success
2017-11-23 01:22:21.568 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVRKRHHUE:00000001",
  "TimeStamp": "2017-11-22T23:22:21Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:22:21.571 +02:00 [DBG] Start token request validation
2017-11-23 01:22:21.575 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:22:21.576 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:22:21.578 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:22:21.583 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVRKRHHUE:00000001",
  "TimeStamp": "2017-11-22T23:22:21Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:22:29.075 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:22:29.080 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:22:29.081 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:22:29.083 +02:00 [DBG] Start token request.
2017-11-23 01:22:29.084 +02:00 [DBG] Start client validation
2017-11-23 01:22:29.086 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:22:29.088 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:22:29.090 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:22:29.091 +02:00 [DBG] Secret id found: angular
2017-11-23 01:22:29.100 +02:00 [DBG] angular found in database: true
2017-11-23 01:22:29.101 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:22:29.102 +02:00 [DBG] Client validation success
2017-11-23 01:22:29.105 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVRKRHHUE:00000002",
  "TimeStamp": "2017-11-22T23:22:29Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:22:29.108 +02:00 [DBG] Start token request validation
2017-11-23 01:22:29.109 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:22:29.111 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:22:29.112 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access"
  }
}
2017-11-23 01:22:29.117 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVRKRHHUE:00000002",
  "TimeStamp": "2017-11-22T23:22:29Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:22:32.725 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:22:39.941 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:22:39.945 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:22:39.947 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:22:39.950 +02:00 [DBG] Start token request.
2017-11-23 01:22:39.951 +02:00 [DBG] Start client validation
2017-11-23 01:22:39.954 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:22:39.955 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:22:39.957 +02:00 [DBG] No secret in post body found
2017-11-23 01:22:39.958 +02:00 [DBG] Parser found no secret
2017-11-23 01:22:39.959 +02:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "unknown",
  "Message": "No client id found",
  "ActivityId": "0HL9HVRKRHHUE:00000003",
  "TimeStamp": "2017-11-22T23:22:39Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:22:39.964 +02:00 [ERR] No client identifier found
2017-11-23 01:22:44.329 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:22:44.333 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:22:44.335 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:22:44.336 +02:00 [DBG] Start token request.
2017-11-23 01:22:44.338 +02:00 [DBG] Start client validation
2017-11-23 01:22:44.340 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:22:44.342 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:22:44.345 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:22:44.346 +02:00 [DBG] Secret id found: angular
2017-11-23 01:22:44.355 +02:00 [DBG] angular found in database: true
2017-11-23 01:22:44.357 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:22:44.359 +02:00 [DBG] Client validation success
2017-11-23 01:22:44.361 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVRKRHHUE:00000004",
  "TimeStamp": "2017-11-22T23:22:44Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:22:44.365 +02:00 [DBG] Start token request validation
2017-11-23 01:22:44.369 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:22:44.370 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:22:44.372 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:22:44.375 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9HVRKRHHUE:00000004",
  "TimeStamp": "2017-11-22T23:22:44Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:23:02.730 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:23:32.736 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:23:39.251 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:23:39.256 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:23:39.257 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:23:39.259 +02:00 [DBG] Start token request.
2017-11-23 01:23:39.260 +02:00 [DBG] Start client validation
2017-11-23 01:23:39.262 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:23:39.263 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:23:39.265 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:23:39.266 +02:00 [DBG] Secret id found: client
2017-11-23 01:23:39.302 +02:00 [DBG] client found in database: true
2017-11-23 01:23:39.313 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-11-23 01:23:39.314 +02:00 [DBG] Client validation success
2017-11-23 01:23:39.316 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9HVRKRHHUE:00000005",
  "TimeStamp": "2017-11-22T23:23:39Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:23:39.319 +02:00 [DBG] Start token request validation
2017-11-23 01:23:39.322 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:23:39.371 +02:00 [DBG] Found [] identity scopes in database
2017-11-23 01:23:39.598 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-11-23 01:23:39.617 +02:00 [DBG] Found [] identity scopes in database
2017-11-23 01:23:39.626 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-11-23 01:23:39.634 +02:00 [DBG] client credentials token request validation success
2017-11-23 01:23:39.637 +02:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "client",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:23:39.669 +02:00 [DBG] Getting claims for access token for client: client
2017-11-23 01:23:39.751 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****sPaA"
    }
  ],
  "ActivityId": "0HL9HVRKRHHUE:00000005",
  "TimeStamp": "2017-11-22T23:23:39Z",
  "ProcessId": 12164,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:23:39.756 +02:00 [DBG] Token request success.
2017-11-23 01:24:02.742 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:24:32.749 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:25:02.756 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:25:32.761 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:25:59.071 +02:00 [DBG] TaskCanceledException. Exiting.
2017-11-23 01:25:59.089 +02:00 [DBG] Stopping token cleanup
2017-11-23 01:26:15.814 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:26:15.851 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:26:15.853 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:26:15.855 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:26:15.856 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:26:15.970 +02:00 [DBG] Starting token cleanup
2017-11-23 01:26:46.290 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:26:53.280 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:26:53.307 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:26:53.311 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:26:53.320 +02:00 [DBG] Start token request.
2017-11-23 01:26:53.331 +02:00 [DBG] Start client validation
2017-11-23 01:26:53.339 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:26:53.344 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:26:53.358 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:26:53.361 +02:00 [DBG] Secret id found: angular
2017-11-23 01:26:54.134 +02:00 [DBG] angular found in database: true
2017-11-23 01:26:54.138 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:26:54.139 +02:00 [DBG] Client validation success
2017-11-23 01:26:54.219 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "angular",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9I021P6D0U:00000001",
  "TimeStamp": "2017-11-22T23:26:54Z",
  "ProcessId": 10960,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:26:54.231 +02:00 [DBG] Start token request validation
2017-11-23 01:26:54.243 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:26:54.246 +02:00 [ERR] angular not authorized for client credentials flow
2017-11-23 01:26:54.274 +02:00 [ERR] {
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "angular",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:26:54.285 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "angular",
  "ClientName": "Angular SPA Client",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9I021P6D0U:00000001",
  "TimeStamp": "2017-11-22T23:26:54Z",
  "ProcessId": 10960,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:27:16.309 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:27:46.329 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:28:16.335 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:28:46.340 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:29:16.350 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:29:46.356 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:30:16.367 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:30:46.373 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:31:16.384 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:31:37.133 +02:00 [DBG] TaskCanceledException. Exiting.
2017-11-23 01:31:37.149 +02:00 [DBG] Stopping token cleanup
2017-11-23 01:31:53.777 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:31:53.813 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:31:53.814 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:31:53.816 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:31:53.818 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:31:53.931 +02:00 [DBG] Starting token cleanup
2017-11-23 01:32:17.564 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:32:17.595 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:32:17.598 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:32:17.615 +02:00 [DBG] Start token request.
2017-11-23 01:32:17.631 +02:00 [DBG] Start client validation
2017-11-23 01:32:17.645 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:32:17.650 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:32:17.667 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:32:17.671 +02:00 [DBG] Secret id found: postman
2017-11-23 01:32:18.722 +02:00 [DBG] postman found in database: true
2017-11-23 01:32:18.730 +02:00 [DBG] Public Client - skipping secret validation success
2017-11-23 01:32:18.731 +02:00 [DBG] Client validation success
2017-11-23 01:32:18.807 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9I052DO63C:00000001",
  "TimeStamp": "2017-11-22T23:32:18Z",
  "ProcessId": 5872,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:32:18.821 +02:00 [DBG] Start token request validation
2017-11-23 01:32:18.833 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:32:18.836 +02:00 [ERR] postman not authorized for client credentials flow
2017-11-23 01:32:18.863 +02:00 [ERR] {
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:32:18.875 +02:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "GrantType": "client_credentials",
  "Error": "unauthorized_client",
  "ActivityId": "0HL9I052DO63C:00000001",
  "TimeStamp": "2017-11-22T23:32:18Z",
  "ProcessId": 5872,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:32:23.970 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:32:53.976 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:33:23.991 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:33:54.004 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:34:24.021 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:34:54.036 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:35:23.654 +02:00 [DBG] TaskCanceledException. Exiting.
2017-11-23 01:35:23.671 +02:00 [DBG] Stopping token cleanup
2017-11-23 01:35:39.327 +02:00 [ERR] Failed executing DbCommand (63ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (Size = 2000), @p12='?' (Size = 200), @p13='?' (Size = 200), @p14='?' (Size = 200), @p15='?' (Size = 2000), @p16='?', @p17='?' (Size = 1000), @p18='?', @p19='?', @p20='?', @p21='?' (Size = 2000), @p22='?', @p23='?', @p24='?' (Size = 2000), @p25='?' (Size = 200), @p26='?' (Size = 200), @p27='?', @p28='?', @p29='?', @p30='?', @p31='?', @p32='?', @p33='?', @p34='?', @p35='?', @p36='?', @p37='?', @p38='?', @p39='?', @p40='?', @p41='?', @p42='?', @p43='?', @p44='?', @p45='?' (Size = 2000), @p46='?' (Size = 200), @p47='?' (Size = 200), @p48='?' (Size = 200), @p49='?' (Size = 2000), @p50='?', @p51='?' (Size = 1000), @p52='?', @p53='?', @p54='?', @p55='?' (Size = 2000), @p56='?', @p57='?', @p58='?' (Size = 2000), @p59='?' (Size = 200), @p60='?' (Size = 200), @p61='?', @p62='?', @p63='?', @p64='?', @p65='?', @p66='?', @p67='?', @p68='?', @p69='?', @p70='?', @p71='?', @p72='?', @p73='?', @p74='?', @p75='?', @p76='?', @p77='?', @p78='?', @p79='?' (Size = 2000), @p80='?' (Size = 200), @p81='?' (Size = 200), @p82='?' (Size = 200), @p83='?' (Size = 2000), @p84='?', @p85='?' (Size = 1000), @p86='?', @p87='?', @p88='?', @p89='?' (Size = 2000), @p90='?', @p91='?', @p92='?' (Size = 2000), @p93='?' (Size = 200), @p94='?' (Size = 200), @p95='?', @p96='?', @p97='?', @p98='?', @p99='?', @p100='?', @p101='?', @p102='?', @p103='?', @p104='?', @p105='?', @p106='?', @p107='?', @p108='?', @p109='?', @p110='?', @p111='?', @p112='?', @p113='?' (Size = 2000), @p114='?' (Size = 200), @p115='?' (Size = 200), @p116='?' (Size = 200), @p117='?' (Size = 2000), @p118='?', @p119='?' (Size = 1000), @p120='?', @p121='?', @p122='?', @p123='?' (Size = 2000), @p124='?', @p125='?', @p126='?' (Size = 2000), @p127='?' (Size = 200), @p128='?' (Size = 200), @p129='?', @p130='?', @p131='?', @p132='?', @p133='?', @p134='?', @p135='?'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Clients] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 0),
(@p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, 1),
(@p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, 2),
(@p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, 3)) AS i ([AbsoluteRefreshTokenLifetime], [AccessTokenLifetime], [AccessTokenType], [AllowAccessTokensViaBrowser], [AllowOfflineAccess], [AllowPlainTextPkce], [AllowRememberConsent], [AlwaysIncludeUserClaimsInIdToken], [AlwaysSendClientClaims], [AuthorizationCodeLifetime], [BackChannelLogoutSessionRequired], [BackChannelLogoutUri], [ClientClaimsPrefix], [ClientId], [ClientName], [ClientUri], [ConsentLifetime], [Description], [EnableLocalLogin], [Enabled], [FrontChannelLogoutSessionRequired], [FrontChannelLogoutUri], [IdentityTokenLifetime], [IncludeJwtId], [LogoUri], [PairWiseSubjectSalt], [ProtocolType], [RefreshTokenExpiration], [RefreshTokenUsage], [RequireClientSecret], [RequireConsent], [RequirePkce], [SlidingRefreshTokenLifetime], [UpdateAccessTokenClaimsOnRefresh], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AbsoluteRefreshTokenLifetime], [AccessTokenLifetime], [AccessTokenType], [AllowAccessTokensViaBrowser], [AllowOfflineAccess], [AllowPlainTextPkce], [AllowRememberConsent], [AlwaysIncludeUserClaimsInIdToken], [AlwaysSendClientClaims], [AuthorizationCodeLifetime], [BackChannelLogoutSessionRequired], [BackChannelLogoutUri], [ClientClaimsPrefix], [ClientId], [ClientName], [ClientUri], [ConsentLifetime], [Description], [EnableLocalLogin], [Enabled], [FrontChannelLogoutSessionRequired], [FrontChannelLogoutUri], [IdentityTokenLifetime], [IncludeJwtId], [LogoUri], [PairWiseSubjectSalt], [ProtocolType], [RefreshTokenExpiration], [RefreshTokenUsage], [RequireClientSecret], [RequireConsent], [RequirePkce], [SlidingRefreshTokenLifetime], [UpdateAccessTokenClaimsOnRefresh])
VALUES (i.[AbsoluteRefreshTokenLifetime], i.[AccessTokenLifetime], i.[AccessTokenType], i.[AllowAccessTokensViaBrowser], i.[AllowOfflineAccess], i.[AllowPlainTextPkce], i.[AllowRememberConsent], i.[AlwaysIncludeUserClaimsInIdToken], i.[AlwaysSendClientClaims], i.[AuthorizationCodeLifetime], i.[BackChannelLogoutSessionRequired], i.[BackChannelLogoutUri], i.[ClientClaimsPrefix], i.[ClientId], i.[ClientName], i.[ClientUri], i.[ConsentLifetime], i.[Description], i.[EnableLocalLogin], i.[Enabled], i.[FrontChannelLogoutSessionRequired], i.[FrontChannelLogoutUri], i.[IdentityTokenLifetime], i.[IncludeJwtId], i.[LogoUri], i.[PairWiseSubjectSalt], i.[ProtocolType], i.[RefreshTokenExpiration], i.[RefreshTokenUsage], i.[RequireClientSecret], i.[RequireConsent], i.[RequirePkce], i.[SlidingRefreshTokenLifetime], i.[UpdateAccessTokenClaimsOnRefresh])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Clients] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];
System.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_ClientId'. The duplicate key value is (client).
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TrySetMetaData(_SqlMetaDataSet metaData, Boolean moreInfo)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:74964b50-2d7b-47d8-a8de-0eccb2c75e42
Error Number:2601,State:1,Class:14
2017-11-23 01:35:39.445 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_ClientId'. The duplicate key value is (client).
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TrySetMetaData(_SqlMetaDataSet metaData, Boolean moreInfo)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_ClientId'. The duplicate key value is (client).
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TrySetMetaData(_SqlMetaDataSet metaData, Boolean moreInfo)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2017-11-23 01:35:39.513 +02:00 [FTL] Application startup exception
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_ClientId'. The duplicate key value is (client).
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TrySetMetaData(_SqlMetaDataSet metaData, Boolean moreInfo)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Toffees.Identity.Startup.InitializeDatabase(IApplicationBuilder app) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Startup.cs:line 120
   at Toffees.Identity.Startup.Configure(IApplicationBuilder app) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Startup.cs:line 89
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2017-11-23 01:39:09.892 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:39:09.926 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:39:09.928 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:39:09.930 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:39:09.931 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:50:00.639 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:50:00.673 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:50:00.675 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:50:00.676 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:50:00.678 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:51:25.911 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:51:25.945 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:51:25.947 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:51:25.949 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:51:25.950 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:51:26.122 +02:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [ConcurrencyStamp] TEXT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): Column 'Id' in table 'AspNetRoles' is of a type that is invalid for use as a key column in an index.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:354f2d98-8349-46f2-9ea3-61ba6335a909
Error Number:1919,State:1,Class:16
2017-11-23 01:56:24.553 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-11-23 01:56:24.593 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-11-23 01:56:24.594 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-11-23 01:56:24.595 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-11-23 01:56:24.596 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-11-23 01:56:24.735 +02:00 [DBG] Starting token cleanup
2017-11-23 01:56:30.197 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-11-23 01:56:30.223 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-11-23 01:56:30.226 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-11-23 01:56:30.236 +02:00 [DBG] Start token request.
2017-11-23 01:56:30.245 +02:00 [DBG] Start client validation
2017-11-23 01:56:30.253 +02:00 [DBG] Start parsing Basic Authentication secret
2017-11-23 01:56:30.258 +02:00 [DBG] Start parsing for secret in post body
2017-11-23 01:56:30.273 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-11-23 01:56:30.275 +02:00 [DBG] Secret id found: postman
2017-11-23 01:56:30.954 +02:00 [DBG] postman found in database: true
2017-11-23 01:56:30.970 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-11-23 01:56:30.973 +02:00 [DBG] Client validation success
2017-11-23 01:56:31.053 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9I0IJB4HTK:00000001",
  "TimeStamp": "2017-11-22T23:56:30Z",
  "ProcessId": 13988,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:56:31.066 +02:00 [DBG] Start token request validation
2017-11-23 01:56:31.078 +02:00 [DBG] Start client credentials token request validation
2017-11-23 01:56:31.125 +02:00 [DBG] Found [] identity scopes in database
2017-11-23 01:56:31.345 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-11-23 01:56:31.365 +02:00 [DBG] Found [] identity scopes in database
2017-11-23 01:56:31.375 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-11-23 01:56:31.383 +02:00 [DBG] postman credentials token request validation success
2017-11-23 01:56:31.413 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-11-23 01:56:31.445 +02:00 [DBG] Getting claims for access token for client: postman
2017-11-23 01:56:31.526 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****5ceQ"
    }
  ],
  "ActivityId": "0HL9I0IJB4HTK:00000001",
  "TimeStamp": "2017-11-22T23:56:31Z",
  "ProcessId": 13988,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-11-23 01:56:31.532 +02:00 [DBG] Token request success.
2017-11-23 01:56:54.755 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:57:24.761 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:57:54.773 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:58:24.793 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:58:54.804 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:59:24.823 +02:00 [INF] Clearing 0 tokens
2017-11-23 01:59:54.824 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:00:24.831 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:00:54.846 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:01:24.849 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:01:54.861 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:02:24.865 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:02:54.875 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:03:24.879 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:03:54.912 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:04:24.970 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:04:54.983 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:05:24.984 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:05:54.993 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:06:25.006 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:06:55.006 +02:00 [INF] Clearing 0 tokens
2017-11-23 02:07:23.966 +02:00 [DBG] TaskCanceledException. Exiting.
2017-11-23 02:07:23.983 +02:00 [DBG] Stopping token cleanup
2017-12-02 14:13:41.003 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 14:13:41.044 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 14:13:41.046 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 14:13:41.047 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 14:13:41.048 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 14:13:41.247 +02:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [ConcurrencyStamp] TEXT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): Column 'Id' in table 'AspNetRoles' is of a type that is invalid for use as a key column in an index.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:79474a86-98c1-4a9e-9691-6a1c7b570d44
Error Number:1919,State:1,Class:16
2017-12-02 14:14:21.700 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 14:14:21.741 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 14:14:21.744 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 14:14:21.745 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 14:14:21.746 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 14:15:16.778 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 14:15:16.820 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 14:15:16.822 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 14:15:16.824 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 14:15:16.825 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:09:09.612 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:09:09.652 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:09:09.653 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:09:09.655 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:09:09.657 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:09:09.826 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [ConcurrencyStamp] TEXT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): Column 'Id' in table 'AspNetRoles' is of a type that is invalid for use as a key column in an index.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:457e0e41-c7f1-4caa-a6f6-2879da935fc5
Error Number:1919,State:1,Class:16
2017-12-02 15:15:21.409 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:15:21.451 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:15:21.452 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:15:21.454 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:15:21.456 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:43:25.083 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:43:25.123 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:43:25.124 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:43:25.126 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:43:25.127 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:45:02.953 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:45:02.994 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:45:02.996 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:45:02.999 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:45:03.001 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:45:44.577 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:45:44.619 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:45:44.622 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:45:44.623 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:45:44.625 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:46:22.977 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:46:23.018 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:46:23.020 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:46:23.022 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:46:23.023 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:46:23.194 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [ConcurrencyStamp] TEXT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): Column 'Id' in table 'AspNetRoles' is of a type that is invalid for use as a key column in an index.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:93466ac4-2001-44fa-b967-409e15732c92
Error Number:1919,State:1,Class:16
2017-12-02 15:47:46.434 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:47:46.476 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:47:46.478 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:47:46.480 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:47:46.481 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:49:59.137 +02:00 [FTL] Application startup exception
System.InvalidOperationException: No service for type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Toffees.Identity.Startup.InitializeDatabase(IApplicationBuilder app) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Startup.cs:line 110
   at Toffees.Identity.Startup.Configure(IApplicationBuilder app) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Startup.cs:line 89
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2017-12-02 15:52:56.785 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2017-12-02 15:52:56.843 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:52:56.851 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:52:56.853 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:52:56.854 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:52:56.857 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 15:53:07.706 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [ConcurrencyStamp] TEXT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): Column 'Id' in table 'AspNetRoles' is of a type that is invalid for use as a key column in an index.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:926801a9-5c7f-4ce6-b78d-0b3464e4cc70
Error Number:1919,State:1,Class:16
2017-12-02 15:53:41.879 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2017-12-02 15:53:41.934 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 15:53:41.940 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 15:53:41.941 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 15:53:41.943 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 15:53:41.944 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 16:55:02.646 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2017-12-02 16:55:02.704 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 16:55:02.710 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 16:55:02.713 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 16:55:02.715 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 16:55:02.716 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 16:55:52.175 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2017-12-02 16:55:52.233 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 16:55:52.238 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 16:55:52.240 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 16:55:52.242 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 16:55:52.244 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 17:13:19.374 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Clients] AS [c])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:076e6bec-1fd6-470f-bb3d-fee16359a9ab
Error Number:208,State:1,Class:16
2017-12-02 17:13:19.490 +02:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:076e6bec-1fd6-470f-bb3d-fee16359a9ab
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:076e6bec-1fd6-470f-bb3d-fee16359a9ab
Error Number:208,State:1,Class:16
2017-12-02 17:13:19.567 +02:00 [FTL] Application startup exception
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at System.Linq.Queryable.Any[TSource](IQueryable`1 source)
   at Toffees.Identity.Startup.InitializeDatabase(IApplicationBuilder app) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Startup.cs:line 113
   at Toffees.Identity.Startup.Configure(IApplicationBuilder app) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Startup.cs:line 88
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
ClientConnectionId:076e6bec-1fd6-470f-bb3d-fee16359a9ab
Error Number:208,State:1,Class:16
2017-12-02 17:16:02.662 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 17:16:02.705 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 17:16:02.707 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 17:16:02.709 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 17:16:02.713 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 17:17:49.782 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 17:17:49.824 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 17:17:49.828 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 17:17:49.828 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 17:17:49.828 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 17:17:50.080 +02:00 [DBG] Starting token cleanup
2017-12-02 17:18:20.220 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:18:50.271 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:19:20.307 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:19:49.469 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-02 17:20:09.385 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:20:09.566 +02:00 [INF] {
  "Name": "Unhandled Exception",
  "Category": "Error",
  "EventType": "Error",
  "Id": 3000,
  "Details": "System.InvalidOperationException: The DbContextOptions passed to the ApplicationDbContext constructor must be a DbContextOptions<ApplicationDbContext>. When registering multiple DbContext types make sure that the constructor for each context type has a DbContextOptions<TContext> parameter rather than a non-generic DbContextOptions parameter.\r\n   at Microsoft.EntityFrameworkCore.DbContext..ctor(DbContextOptions options)\r\n   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.IdentityDbContext`1..ctor(DbContextOptions options)\r\n   at Toffees.Identity.Data.ApplicationDbContext..ctor(DbContextOptions options) in C:\\Users\\pan_t\\Documents\\GitHub\\Toffees\\Identity\\Data\\ApplicationDbContext.cs:line 10\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.<>c__DisplayClass22_0.<RealizeService>b__0(ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at IdentityServer4.Hosting.EndpointRouter.GetEndpointHandler(Endpoint endpoint, HttpContext context)\r\n   at IdentityServer4.Hosting.EndpointRouter.Find(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext()",
  "Message": "The DbContextOptions passed to the ApplicationDbContext constructor must be a DbContextOptions<ApplicationDbContext>. When registering multiple DbContext types make sure that the constructor for each context type has a DbContextOptions<TContext> parameter rather than a non-generic DbContextOptions parameter.",
  "ActivityId": "0HL9PIVCUDNVE:00000001",
  "TimeStamp": "2017-12-02T15:20:09Z",
  "ProcessId": 2904,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-02 17:20:09.595 +02:00 [FTL] Unhandled exception: System.InvalidOperationException: The DbContextOptions passed to the ApplicationDbContext constructor must be a DbContextOptions<ApplicationDbContext>. When registering multiple DbContext types make sure that the constructor for each context type has a DbContextOptions<TContext> parameter rather than a non-generic DbContextOptions parameter.
   at Microsoft.EntityFrameworkCore.DbContext..ctor(DbContextOptions options)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.IdentityDbContext`1..ctor(DbContextOptions options)
   at Toffees.Identity.Data.ApplicationDbContext..ctor(DbContextOptions options) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Data\ApplicationDbContext.cs:line 10
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.<>c__DisplayClass22_0.<RealizeService>b__0(ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at IdentityServer4.Hosting.EndpointRouter.GetEndpointHandler(Endpoint endpoint, HttpContext context)
   at IdentityServer4.Hosting.EndpointRouter.Find(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext()
2017-12-02 17:20:09.619 +02:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The DbContextOptions passed to the ApplicationDbContext constructor must be a DbContextOptions<ApplicationDbContext>. When registering multiple DbContext types make sure that the constructor for each context type has a DbContextOptions<TContext> parameter rather than a non-generic DbContextOptions parameter.
   at Microsoft.EntityFrameworkCore.DbContext..ctor(DbContextOptions options)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.IdentityDbContext`1..ctor(DbContextOptions options)
   at Toffees.Identity.Data.ApplicationDbContext..ctor(DbContextOptions options) in C:\Users\pan_t\Documents\GitHub\Toffees\Identity\Data\ApplicationDbContext.cs:line 10
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.<>c__DisplayClass22_0.<RealizeService>b__0(ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at IdentityServer4.Hosting.EndpointRouter.GetEndpointHandler(Endpoint endpoint, HttpContext context)
   at IdentityServer4.Hosting.EndpointRouter.Find(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2017-12-02 17:23:47.170 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-02 17:23:47.211 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-02 17:23:47.213 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-02 17:23:47.214 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-02 17:23:47.215 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-02 17:23:47.331 +02:00 [DBG] Starting token cleanup
2017-12-02 17:24:17.396 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:24:25.827 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2017-12-02 17:24:25.856 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2017-12-02 17:24:25.858 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2017-12-02 17:24:25.864 +02:00 [DBG] Start discovery request
2017-12-02 17:24:26.539 +02:00 [DBG] Found ["openid","profile","biometric_api.full_access","biometric_api.read_only"] as all scopes in database
2017-12-02 17:24:32.003 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2017-12-02 17:24:47.420 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:25:17.431 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:25:47.437 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:26:17.450 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:26:43.740 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-02 17:26:43.750 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-02 17:26:43.752 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-02 17:26:43.764 +02:00 [DBG] Start token request.
2017-12-02 17:26:43.773 +02:00 [DBG] Start client validation
2017-12-02 17:26:43.782 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-02 17:26:43.788 +02:00 [DBG] Start parsing for secret in post body
2017-12-02 17:26:43.801 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-02 17:26:43.802 +02:00 [DBG] Secret id found: postman
2017-12-02 17:26:44.200 +02:00 [DBG] postman found in database: true
2017-12-02 17:26:44.213 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-02 17:26:44.215 +02:00 [DBG] Client validation success
2017-12-02 17:26:44.277 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9PJ2SHTUFL:00000001",
  "TimeStamp": "2017-12-02T15:26:44Z",
  "ProcessId": 8464,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-02 17:26:44.289 +02:00 [DBG] Start token request validation
2017-12-02 17:26:44.302 +02:00 [DBG] Start client credentials token request validation
2017-12-02 17:26:44.342 +02:00 [DBG] Found [] identity scopes in database
2017-12-02 17:26:44.444 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-02 17:26:44.457 +02:00 [DBG] Found [] identity scopes in database
2017-12-02 17:26:44.463 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-02 17:26:44.470 +02:00 [DBG] postman credentials token request validation success
2017-12-02 17:26:44.484 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-02 17:26:44.517 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-02 17:26:44.603 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****bSXA"
    }
  ],
  "ActivityId": "0HL9PJ2SHTUFL:00000001",
  "TimeStamp": "2017-12-02T15:26:44Z",
  "ProcessId": 8464,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-02 17:26:44.609 +02:00 [DBG] Token request success.
2017-12-02 17:26:47.460 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:27:17.466 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:27:47.481 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:28:17.496 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:28:47.508 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:29:17.529 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:29:47.545 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:30:17.560 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:30:47.575 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:31:17.591 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:31:47.608 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:32:17.628 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:32:47.634 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:33:17.652 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:33:47.668 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:34:17.686 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:34:47.704 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:35:17.722 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:35:47.729 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:36:17.747 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:36:47.761 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:37:17.774 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:37:47.791 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:38:17.807 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:38:47.821 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:39:17.837 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:39:47.855 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:40:17.872 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:40:47.885 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:41:17.900 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:41:47.917 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:42:17.931 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:42:47.947 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:43:17.951 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:43:47.962 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:44:17.976 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:44:47.997 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:45:18.007 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:45:48.024 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:46:18.038 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:46:48.057 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:47:18.071 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:47:48.090 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:48:18.105 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:48:48.124 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:49:18.142 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:49:48.149 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:50:18.166 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:50:48.180 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:51:18.199 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:51:48.211 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:52:18.229 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:52:48.241 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:53:18.259 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:53:48.275 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:54:18.295 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:54:48.311 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:55:18.331 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:55:48.338 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:56:18.356 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:56:48.368 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:57:18.383 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:57:48.389 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:58:18.406 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:58:48.422 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:59:18.433 +02:00 [INF] Clearing 0 tokens
2017-12-02 17:59:48.447 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:00:18.453 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:00:48.473 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:01:18.492 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:01:48.512 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:02:18.529 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:02:48.545 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:03:18.560 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:03:48.571 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:04:18.587 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:04:48.606 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:05:18.622 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:05:48.634 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:06:18.648 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:06:48.665 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:07:18.672 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:07:48.686 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:08:18.700 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:08:48.714 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:09:18.727 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:09:48.731 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:10:18.745 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:10:48.762 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:11:18.774 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:11:48.791 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:12:18.799 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:12:48.805 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:13:18.825 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:13:48.838 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:14:18.853 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:14:48.858 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:15:18.873 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:15:48.884 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:16:18.900 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:16:48.914 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:17:18.930 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:17:48.947 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:18:18.964 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:18:48.977 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:19:18.993 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:19:49.000 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:20:19.017 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:20:49.036 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:21:19.054 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:21:49.071 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:22:19.086 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:22:49.106 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:23:19.121 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:23:49.132 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:24:19.153 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:24:49.169 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:25:19.185 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:25:49.196 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:26:19.203 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:26:49.221 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:27:19.227 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:27:49.241 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:28:19.249 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:28:49.264 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:29:19.276 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:29:49.292 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:30:19.305 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:30:49.327 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:31:19.343 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:31:49.361 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:32:19.366 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:32:49.383 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:33:19.401 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:33:49.417 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:34:19.429 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:34:49.449 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:35:19.453 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:35:49.469 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:36:19.491 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:36:49.496 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:37:19.509 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:37:49.529 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:38:19.548 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:38:49.566 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:39:19.573 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:39:49.587 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:40:19.602 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:40:49.624 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:41:19.640 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:41:49.658 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:42:19.663 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:42:49.669 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:43:19.687 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:43:49.707 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:44:19.712 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:44:49.733 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:45:19.755 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:45:49.776 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:46:19.792 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:46:49.804 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:47:19.822 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:47:49.826 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:48:19.840 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:48:49.853 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:49:19.868 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:49:49.885 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:50:19.901 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:50:49.916 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:51:19.938 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:51:49.956 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:52:19.963 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:52:49.979 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:53:19.994 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:53:50.009 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:54:20.029 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:54:50.044 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:55:20.055 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:55:50.070 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:56:20.085 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:56:50.091 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:57:20.106 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:57:50.122 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:58:20.135 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:58:50.149 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:59:20.157 +02:00 [INF] Clearing 0 tokens
2017-12-02 18:59:50.176 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:00:20.182 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:00:50.195 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:01:20.214 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:01:50.232 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:02:20.246 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:02:50.260 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:03:20.274 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:03:50.290 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:04:20.311 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:04:50.328 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:05:20.341 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:05:50.359 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:06:20.376 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:06:50.387 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:07:20.400 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:07:50.420 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:08:20.435 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:08:50.451 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:09:20.462 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:09:50.482 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:10:20.494 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:10:50.507 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:11:20.513 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:11:50.529 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:12:20.542 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:12:50.547 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:13:20.563 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:13:50.578 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:14:20.592 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:14:50.611 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:15:20.617 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:15:50.622 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:16:20.637 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:16:50.652 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:17:20.664 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:17:50.682 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:18:20.699 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:18:50.711 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:19:20.716 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:19:50.733 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:20:20.755 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:20:50.775 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:21:20.789 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:21:50.804 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:22:20.821 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:22:50.826 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:23:20.838 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:23:50.853 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:24:20.868 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:24:50.883 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:25:20.899 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:25:50.913 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:26:20.919 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:26:50.931 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:27:20.946 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:27:50.963 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:28:20.978 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:28:50.984 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:29:20.994 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:29:51.001 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:30:21.011 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:30:51.026 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:31:21.039 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:31:51.055 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:32:21.072 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:32:51.086 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:33:21.103 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:33:51.120 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:34:21.134 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:34:51.152 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:35:21.169 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:35:51.183 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:36:21.189 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:36:51.204 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:37:21.224 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:37:51.241 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:38:21.260 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:38:51.275 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:39:21.289 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:39:51.294 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:40:21.304 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:40:51.321 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:41:21.326 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:41:51.346 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:42:21.368 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:42:51.386 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:43:21.402 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:43:51.421 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:44:21.441 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:44:51.463 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:45:21.479 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:45:51.494 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:46:21.514 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:46:51.534 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:47:21.542 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:47:51.554 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:48:21.572 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:48:51.585 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:49:21.590 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:49:51.604 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:50:21.618 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:50:51.624 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:51:21.637 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:51:51.649 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:52:21.663 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:52:51.684 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:53:21.703 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:53:51.719 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:54:21.725 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:54:51.732 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:55:21.746 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:55:51.759 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:56:21.772 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:56:51.789 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:57:21.810 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:57:51.820 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:58:21.827 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:58:51.845 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:59:21.853 +02:00 [INF] Clearing 0 tokens
2017-12-02 19:59:51.859 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:00:21.877 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:00:51.881 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:01:21.899 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:01:51.916 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:02:21.934 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:02:51.952 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:03:21.967 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:03:51.986 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:04:21.993 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:04:52.008 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:05:22.022 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:05:52.039 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:06:22.058 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:06:52.071 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:07:22.087 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:07:52.107 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:08:22.121 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:08:52.136 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:09:22.151 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:09:52.164 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:10:22.183 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:10:52.198 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:11:22.213 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:11:52.226 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:12:22.242 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:12:52.257 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:13:22.275 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:13:52.291 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:14:22.305 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:14:52.310 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:15:22.326 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:15:52.342 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:16:22.359 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:16:52.371 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:17:22.385 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:17:52.404 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:18:22.419 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:18:52.436 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:19:22.448 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:19:52.461 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:20:22.467 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:20:52.490 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:21:22.497 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:21:52.507 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:22:22.525 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:22:52.529 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:23:22.540 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:23:52.554 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:24:22.561 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:24:52.577 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:25:22.594 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:25:52.612 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:26:22.618 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:26:52.633 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:27:22.649 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:27:52.668 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:28:22.682 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:28:52.702 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:29:22.713 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:29:52.728 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:30:22.747 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:30:52.762 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:31:22.774 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:31:52.795 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:32:22.811 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:32:52.825 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:33:22.839 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:33:52.851 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:34:22.857 +02:00 [INF] Clearing 0 tokens
2017-12-02 20:34:37.239 +02:00 [DBG] TaskCanceledException. Exiting.
2017-12-02 20:34:37.258 +02:00 [DBG] Stopping token cleanup
2017-12-04 01:11:28.660 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-04 01:11:28.705 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-04 01:11:28.707 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-04 01:11:28.708 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-04 01:11:28.710 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-04 01:11:28.929 +02:00 [DBG] Starting token cleanup
2017-12-04 01:11:59.380 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:12:29.406 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:12:59.412 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:13:29.429 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:13:59.445 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:14:29.463 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:14:59.476 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:15:29.494 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:15:59.506 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:16:29.524 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:16:59.539 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:17:29.556 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:17:59.570 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:18:29.586 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:18:59.602 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:19:29.617 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:19:59.634 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:20:29.648 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:20:59.653 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:21:29.663 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:21:59.679 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:22:29.694 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:22:59.701 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:23:29.716 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:23:59.735 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:24:29.744 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:24:59.756 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:25:29.776 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:25:59.792 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:26:29.807 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:26:59.819 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:27:29.837 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:27:47.410 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-04 01:27:47.447 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-04 01:27:47.450 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-04 01:27:47.461 +02:00 [DBG] Start token request.
2017-12-04 01:27:47.471 +02:00 [DBG] Start client validation
2017-12-04 01:27:47.480 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-04 01:27:47.485 +02:00 [DBG] Start parsing for secret in post body
2017-12-04 01:27:47.505 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-04 01:27:47.507 +02:00 [DBG] Secret id found: postman
2017-12-04 01:27:48.467 +02:00 [DBG] postman found in database: true
2017-12-04 01:27:48.478 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-04 01:27:48.479 +02:00 [DBG] Client validation success
2017-12-04 01:27:48.571 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9QKLR5P2D8:00000001",
  "TimeStamp": "2017-12-03T23:27:48Z",
  "ProcessId": 4716,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-04 01:27:48.583 +02:00 [DBG] Start token request validation
2017-12-04 01:27:48.594 +02:00 [DBG] Start client credentials token request validation
2017-12-04 01:27:48.648 +02:00 [DBG] Found [] identity scopes in database
2017-12-04 01:27:48.890 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-04 01:27:48.912 +02:00 [DBG] Found [] identity scopes in database
2017-12-04 01:27:48.920 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-04 01:27:48.928 +02:00 [DBG] postman credentials token request validation success
2017-12-04 01:27:48.960 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-04 01:27:48.993 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-04 01:27:49.087 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****4i3w"
    }
  ],
  "ActivityId": "0HL9QKLR5P2D8:00000001",
  "TimeStamp": "2017-12-03T23:27:49Z",
  "ProcessId": 4716,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-04 01:27:49.093 +02:00 [DBG] Token request success.
2017-12-04 01:27:59.855 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:28:29.873 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:28:59.887 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:29:29.900 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:29:59.917 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:30:29.933 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:30:59.947 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:31:29.960 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:31:59.976 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:32:29.993 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:33:00.012 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:33:30.026 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:34:00.040 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:34:30.057 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:35:00.069 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:35:30.085 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:36:00.103 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:36:30.123 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:37:00.142 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:37:30.149 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:38:00.163 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:38:30.179 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:39:00.200 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:39:30.226 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:40:00.265 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:40:30.281 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:41:00.299 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:41:30.305 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:42:00.326 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:42:30.341 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:43:00.400 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:43:30.446 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:44:00.467 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:44:30.487 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:45:00.494 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:45:30.514 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:46:00.536 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:46:30.562 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:47:00.581 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:47:30.602 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:48:00.623 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:48:16.824 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-04 01:48:16.829 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-04 01:48:16.853 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-04 01:48:16.855 +02:00 [DBG] Start token request.
2017-12-04 01:48:16.856 +02:00 [DBG] Start client validation
2017-12-04 01:48:16.862 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-04 01:48:16.864 +02:00 [DBG] Start parsing for secret in post body
2017-12-04 01:48:16.865 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-04 01:48:16.868 +02:00 [DBG] Secret id found: postman
2017-12-04 01:48:16.912 +02:00 [DBG] postman found in database: true
2017-12-04 01:48:16.917 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-04 01:48:16.918 +02:00 [DBG] Client validation success
2017-12-04 01:48:16.920 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HL9QKLR5P2DC:00000001",
  "TimeStamp": "2017-12-03T23:48:16Z",
  "ProcessId": 4716,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-04 01:48:16.922 +02:00 [DBG] Start token request validation
2017-12-04 01:48:16.923 +02:00 [DBG] Start client credentials token request validation
2017-12-04 01:48:16.928 +02:00 [DBG] Found [] identity scopes in database
2017-12-04 01:48:16.973 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-04 01:48:16.977 +02:00 [DBG] Found [] identity scopes in database
2017-12-04 01:48:16.981 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-04 01:48:16.984 +02:00 [DBG] postman credentials token request validation success
2017-12-04 01:48:16.985 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-04 01:48:16.988 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-04 01:48:16.995 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****6eSA"
    }
  ],
  "ActivityId": "0HL9QKLR5P2DC:00000001",
  "TimeStamp": "2017-12-03T23:48:16Z",
  "ProcessId": 4716,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-04 01:48:16.999 +02:00 [DBG] Token request success.
2017-12-04 01:48:30.641 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:49:00.659 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:49:30.684 +02:00 [INF] Clearing 0 tokens
2017-12-04 01:49:42.946 +02:00 [DBG] TaskCanceledException. Exiting.
2017-12-04 01:49:42.968 +02:00 [DBG] Stopping token cleanup
2017-12-12 22:32:44.448 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-12 22:32:44.497 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-12 22:32:44.499 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-12 22:32:44.500 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-12 22:32:44.502 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-12 22:32:44.716 +02:00 [DBG] Starting token cleanup
2017-12-12 22:33:15.172 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:33:45.200 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:34:15.211 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:34:45.225 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:35:15.231 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:35:45.241 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:36:15.246 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:36:45.260 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:37:15.275 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:37:45.279 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:38:15.299 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:38:45.320 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:39:04.269 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-12 22:39:04.311 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-12 22:39:04.313 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-12 22:39:04.324 +02:00 [DBG] Start token request.
2017-12-12 22:39:04.336 +02:00 [DBG] Start client validation
2017-12-12 22:39:04.346 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-12 22:39:04.354 +02:00 [DBG] Start parsing for secret in post body
2017-12-12 22:39:04.377 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-12 22:39:04.379 +02:00 [DBG] Secret id found: postman
2017-12-12 22:39:05.502 +02:00 [DBG] postman found in database: true
2017-12-12 22:39:05.544 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-12 22:39:05.546 +02:00 [DBG] Client validation success
2017-12-12 22:39:05.690 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLA1K1H3A0U4:00000001",
  "TimeStamp": "2017-12-12T20:39:05Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-12 22:39:05.875 +02:00 [DBG] Start token request validation
2017-12-12 22:39:05.915 +02:00 [DBG] Start client credentials token request validation
2017-12-12 22:39:06.016 +02:00 [DBG] Found [] identity scopes in database
2017-12-12 22:39:06.331 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-12 22:39:06.360 +02:00 [DBG] Found [] identity scopes in database
2017-12-12 22:39:06.407 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-12 22:39:06.413 +02:00 [DBG] postman credentials token request validation success
2017-12-12 22:39:06.444 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-12 22:39:06.479 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-12 22:39:06.593 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****nKEA"
    }
  ],
  "ActivityId": "0HLA1K1H3A0U4:00000001",
  "TimeStamp": "2017-12-12T20:39:06Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-12 22:39:06.603 +02:00 [DBG] Token request success.
2017-12-12 22:39:15.340 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:39:45.358 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:40:15.378 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:40:45.383 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:41:15.403 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:41:45.419 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:42:15.435 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:42:45.446 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:43:15.451 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:43:45.470 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:44:15.479 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:44:45.485 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:45:15.493 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:45:45.498 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:46:15.514 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:46:45.518 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:47:15.523 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:47:45.532 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:48:15.537 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:48:45.558 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:49:15.576 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:49:45.586 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:50:15.606 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:50:45.611 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:51:15.616 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:51:45.622 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:52:15.627 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:52:45.649 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:53:15.667 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:53:45.682 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:54:15.705 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:54:45.713 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:55:15.728 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:55:45.743 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:56:15.757 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:56:45.771 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:57:15.776 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:57:45.790 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:58:15.804 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:58:45.822 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:59:15.836 +02:00 [INF] Clearing 0 tokens
2017-12-12 22:59:45.852 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:00:15.865 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:00:45.883 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:01:15.898 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:01:45.913 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:02:15.929 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:02:45.946 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:03:15.963 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:03:45.976 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:04:15.992 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:04:46.007 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:05:16.033 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:05:46.048 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:06:16.055 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:06:46.074 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:07:16.089 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:07:46.102 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:08:16.117 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:08:46.133 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:09:16.150 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:09:46.166 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:10:16.179 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:10:46.197 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:11:16.212 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:11:46.228 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:12:16.243 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:12:46.260 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:13:16.276 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:13:46.292 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:14:16.308 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:14:46.319 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:15:16.338 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:15:46.354 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:16:16.372 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:16:46.388 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:17:16.403 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:17:46.418 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:18:16.430 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:18:46.448 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:19:16.460 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:19:46.477 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:20:16.500 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:20:46.508 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:21:16.526 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:21:46.540 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:22:16.557 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:22:46.576 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:23:16.594 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:23:46.601 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:24:16.619 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:24:46.637 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:25:16.650 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:25:46.698 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:26:16.723 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:26:46.727 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:27:16.741 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:27:46.746 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:28:16.767 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:28:46.773 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:29:16.791 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:29:46.806 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:30:16.822 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:30:46.836 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:31:16.856 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:31:46.873 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:32:16.892 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:32:46.899 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:33:16.917 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:33:46.929 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:34:16.945 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:34:46.963 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:35:16.976 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:35:46.995 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:36:17.007 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:36:47.022 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:37:17.039 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:37:47.056 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:38:17.071 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:38:47.090 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:39:17.108 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:39:47.124 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:40:17.140 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:40:47.158 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:41:17.165 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:41:47.184 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:42:17.198 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:42:47.214 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:43:17.227 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:43:47.243 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:44:17.256 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:44:47.262 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:45:17.274 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:45:47.289 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:46:17.305 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:46:47.322 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:47:17.338 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:47:47.350 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:48:17.367 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:48:47.386 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:49:17.398 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:49:47.402 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:50:17.414 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:50:47.431 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:51:17.449 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:51:47.462 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:52:17.477 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:52:47.494 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:53:17.508 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:53:47.526 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:54:17.538 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:54:47.557 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:55:17.574 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:55:47.590 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:56:17.609 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:56:47.624 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:57:17.640 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:57:47.658 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:58:17.665 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:58:47.679 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:59:17.695 +02:00 [INF] Clearing 0 tokens
2017-12-12 23:59:47.710 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:00:17.727 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:00:47.745 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:01:17.759 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:01:47.775 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:02:17.792 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:02:47.807 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:03:17.824 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:03:47.838 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:04:17.852 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:04:47.867 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:05:17.882 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:05:47.901 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:06:17.914 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:06:47.921 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:07:17.940 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:07:47.947 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:08:17.963 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:08:47.978 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:09:17.994 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:09:48.011 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:10:18.025 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:10:48.044 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:11:18.059 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:11:48.075 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:12:18.090 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:12:48.106 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:13:18.122 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:13:48.137 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:14:18.150 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:14:48.163 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:15:18.181 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:15:48.194 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:16:18.200 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:16:48.217 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:17:18.232 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:17:48.246 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:18:18.257 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:18:48.276 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:19:18.289 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:19:48.304 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:20:18.320 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:20:48.337 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:21:18.355 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:21:48.372 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:22:18.387 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:22:48.404 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:23:18.419 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:23:48.433 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:24:18.448 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:24:48.463 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:25:18.481 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:25:48.499 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:26:18.516 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:26:48.522 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:27:18.541 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:27:48.556 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:28:18.574 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:28:48.590 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:29:18.610 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:29:48.616 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:30:18.633 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:30:48.652 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:31:18.665 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:31:48.684 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:32:18.699 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:32:37.689 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-13 00:32:37.702 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-13 00:32:37.704 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-13 00:32:37.706 +02:00 [DBG] Start token request.
2017-12-13 00:32:37.707 +02:00 [DBG] Start client validation
2017-12-13 00:32:37.709 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-13 00:32:37.713 +02:00 [DBG] Start parsing for secret in post body
2017-12-13 00:32:37.716 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-13 00:32:37.718 +02:00 [DBG] Secret id found: postman
2017-12-13 00:32:37.791 +02:00 [DBG] postman found in database: true
2017-12-13 00:32:37.794 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-13 00:32:37.796 +02:00 [DBG] Client validation success
2017-12-13 00:32:37.798 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLA1K1H3A0U5:00000001",
  "TimeStamp": "2017-12-12T22:32:37Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-13 00:32:37.804 +02:00 [DBG] Start token request validation
2017-12-13 00:32:37.805 +02:00 [DBG] Start client credentials token request validation
2017-12-13 00:32:37.814 +02:00 [DBG] Found [] identity scopes in database
2017-12-13 00:32:37.871 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-13 00:32:37.875 +02:00 [DBG] Found [] identity scopes in database
2017-12-13 00:32:37.882 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-13 00:32:37.883 +02:00 [DBG] postman credentials token request validation success
2017-12-13 00:32:37.885 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-13 00:32:37.887 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-13 00:32:37.895 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****U22Q"
    }
  ],
  "ActivityId": "0HLA1K1H3A0U5:00000001",
  "TimeStamp": "2017-12-12T22:32:37Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-13 00:32:37.899 +02:00 [DBG] Token request success.
2017-12-13 00:32:48.713 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:33:18.729 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:33:48.743 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:34:10.963 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-13 00:34:10.966 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-13 00:34:10.968 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-13 00:34:10.970 +02:00 [DBG] Start token request.
2017-12-13 00:34:10.971 +02:00 [DBG] Start client validation
2017-12-13 00:34:10.974 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-13 00:34:10.975 +02:00 [DBG] Start parsing for secret in post body
2017-12-13 00:34:10.976 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-13 00:34:10.977 +02:00 [DBG] Secret id found: postman
2017-12-13 00:34:11.011 +02:00 [DBG] postman found in database: true
2017-12-13 00:34:11.015 +02:00 [DBG] No matching hashed secret found.
2017-12-13 00:34:11.016 +02:00 [DBG] Secret validators could not validate secret
2017-12-13 00:34:11.026 +02:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "postman",
  "Message": "Invalid client secret",
  "ActivityId": "0HLA1K1H3A0U5:00000002",
  "TimeStamp": "2017-12-12T22:34:11Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-13 00:34:11.028 +02:00 [ERR] Client secret validation failed for client: postman.
2017-12-13 00:34:16.911 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-13 00:34:16.915 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-13 00:34:16.917 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-13 00:34:16.918 +02:00 [DBG] Start token request.
2017-12-13 00:34:16.919 +02:00 [DBG] Start client validation
2017-12-13 00:34:16.921 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-13 00:34:16.923 +02:00 [DBG] Start parsing for secret in post body
2017-12-13 00:34:16.924 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-13 00:34:16.926 +02:00 [DBG] Secret id found: postman
2017-12-13 00:34:16.934 +02:00 [DBG] postman found in database: true
2017-12-13 00:34:16.937 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-13 00:34:16.940 +02:00 [DBG] Client validation success
2017-12-13 00:34:16.941 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLA1K1H3A0U5:00000003",
  "TimeStamp": "2017-12-12T22:34:16Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-13 00:34:16.944 +02:00 [DBG] Start token request validation
2017-12-13 00:34:16.945 +02:00 [DBG] Start client credentials token request validation
2017-12-13 00:34:16.952 +02:00 [DBG] Found [] identity scopes in database
2017-12-13 00:34:16.996 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-13 00:34:17.000 +02:00 [DBG] Found [] identity scopes in database
2017-12-13 00:34:17.004 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-13 00:34:17.008 +02:00 [DBG] postman credentials token request validation success
2017-12-13 00:34:17.009 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-13 00:34:17.012 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-13 00:34:17.019 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****hTFQ"
    }
  ],
  "ActivityId": "0HLA1K1H3A0U5:00000003",
  "TimeStamp": "2017-12-12T22:34:17Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-13 00:34:17.024 +02:00 [DBG] Token request success.
2017-12-13 00:34:18.760 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:34:48.775 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:35:18.792 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:35:48.805 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:36:18.821 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:36:48.836 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:37:18.857 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:37:48.872 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:38:18.886 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:38:48.898 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:39:18.913 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:39:48.930 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:40:18.946 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:40:48.964 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:41:18.980 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:41:48.997 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:42:19.010 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:42:49.033 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:43:19.038 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:43:49.055 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:44:19.071 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:44:49.086 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:45:19.102 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:45:49.119 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:46:19.133 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:46:49.152 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:47:19.169 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:47:49.187 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:48:19.204 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:48:49.209 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:49:19.232 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:49:49.261 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:50:19.276 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:50:49.289 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:51:19.306 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:51:49.322 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:52:19.339 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:52:49.355 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:53:19.368 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:53:49.385 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:54:19.401 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:54:49.417 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:55:19.432 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:55:49.447 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:56:19.463 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:56:49.478 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:57:19.491 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:57:49.509 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:58:19.522 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:58:49.539 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:59:19.557 +02:00 [INF] Clearing 0 tokens
2017-12-13 00:59:49.568 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:00:19.574 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:00:49.587 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:01:19.601 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:01:49.617 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:02:19.636 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:02:49.651 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:03:19.663 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:03:49.681 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:04:19.696 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:04:49.713 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:05:19.725 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:05:49.743 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:06:19.757 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:06:49.780 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:07:19.796 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:07:49.816 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:08:19.822 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:08:49.837 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:09:19.851 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:09:49.869 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:10:19.884 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:10:49.900 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:11:19.919 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:11:49.933 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:12:19.946 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:12:49.962 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:13:19.978 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:13:49.996 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:14:20.010 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:14:50.028 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:15:20.043 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:15:50.060 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:16:20.073 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:16:50.087 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:17:20.105 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:17:50.121 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:18:20.135 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:18:50.153 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:19:20.168 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:19:50.182 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:20:20.196 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:20:50.214 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:21:20.227 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:21:50.244 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:22:20.259 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:22:50.274 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:23:20.294 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:23:50.310 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:24:20.325 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:24:50.337 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:25:20.384 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:25:50.408 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:26:20.414 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:26:50.430 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:27:20.448 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:27:50.463 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:28:20.475 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:28:50.492 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:29:20.509 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:29:50.527 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:30:20.546 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:30:50.565 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:31:20.572 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:31:50.585 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:32:20.602 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:32:50.620 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:33:20.633 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:33:50.649 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:34:20.664 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:34:50.679 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:35:20.698 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:35:50.710 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:36:20.728 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:36:50.745 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:37:20.758 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:37:50.774 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:38:20.791 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:38:50.806 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:39:20.822 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:39:50.835 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:40:20.851 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:40:50.869 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:41:20.884 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:41:50.900 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:42:20.912 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:42:50.930 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:43:20.946 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:43:50.962 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:44:20.976 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:44:50.991 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:45:20.996 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:45:51.007 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:46:21.012 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:46:51.026 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:47:21.042 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:47:51.059 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:48:21.073 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:48:51.085 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:49:21.105 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:49:51.119 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:50:21.135 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:50:51.151 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:51:21.170 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:51:51.184 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:52:21.199 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:52:51.214 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:53:21.226 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:53:51.241 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:54:21.258 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:54:51.275 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:55:21.291 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:55:51.306 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:56:21.320 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:56:51.340 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:57:21.358 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:57:51.375 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:58:21.383 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:58:51.397 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:59:21.419 +02:00 [INF] Clearing 0 tokens
2017-12-13 01:59:51.432 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:00:21.445 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:00:51.461 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:01:21.476 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:01:51.495 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:02:21.509 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:02:51.523 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:03:21.537 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:03:51.555 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:04:21.568 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:04:51.575 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:05:21.587 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:05:51.606 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:06:09.343 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-13 02:06:09.350 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-13 02:06:09.352 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-13 02:06:09.355 +02:00 [DBG] Start token request.
2017-12-13 02:06:09.356 +02:00 [DBG] Start client validation
2017-12-13 02:06:09.357 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-13 02:06:09.359 +02:00 [DBG] Start parsing for secret in post body
2017-12-13 02:06:09.361 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-13 02:06:09.364 +02:00 [DBG] Secret id found: postman
2017-12-13 02:06:09.428 +02:00 [DBG] postman found in database: true
2017-12-13 02:06:09.430 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-13 02:06:09.431 +02:00 [DBG] Client validation success
2017-12-13 02:06:09.433 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLA1K1H3A0U8:00000001",
  "TimeStamp": "2017-12-13T00:06:09Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-13 02:06:09.436 +02:00 [DBG] Start token request validation
2017-12-13 02:06:09.438 +02:00 [DBG] Start client credentials token request validation
2017-12-13 02:06:09.444 +02:00 [DBG] Found [] identity scopes in database
2017-12-13 02:06:09.491 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-13 02:06:09.494 +02:00 [DBG] Found [] identity scopes in database
2017-12-13 02:06:09.499 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-13 02:06:09.502 +02:00 [DBG] postman credentials token request validation success
2017-12-13 02:06:09.504 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-13 02:06:09.509 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-13 02:06:09.520 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****wCsw"
    }
  ],
  "ActivityId": "0HLA1K1H3A0U8:00000001",
  "TimeStamp": "2017-12-13T00:06:09Z",
  "ProcessId": 5388,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-13 02:06:09.525 +02:00 [DBG] Token request success.
2017-12-13 02:06:21.619 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:06:51.633 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:07:21.650 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:07:51.669 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:08:21.686 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:08:51.703 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:09:21.720 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:09:51.726 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:10:21.741 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:10:51.756 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:11:21.774 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:11:51.789 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:12:21.806 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:12:51.823 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:13:21.835 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:13:51.853 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:14:21.868 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:14:51.885 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:15:21.901 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:15:51.915 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:16:21.931 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:16:51.951 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:17:21.969 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:17:51.976 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:18:21.994 +02:00 [INF] Clearing 0 tokens
2017-12-13 02:18:39.236 +02:00 [DBG] TaskCanceledException. Exiting.
2017-12-13 02:18:39.262 +02:00 [DBG] Stopping token cleanup
2017-12-19 22:21:07.522 +02:00 [DBG] Using Identity.Application as default scheme for authentication
2017-12-19 22:21:07.564 +02:00 [DBG] Using Identity.External as default scheme for sign-in
2017-12-19 22:21:07.567 +02:00 [DBG] Using Identity.External as default scheme for sign-out
2017-12-19 22:21:07.568 +02:00 [DBG] Using Identity.Application as default scheme for challenge
2017-12-19 22:21:07.570 +02:00 [DBG] Using Identity.Application as default scheme for forbid
2017-12-19 22:21:07.756 +02:00 [DBG] Starting token cleanup
2017-12-19 22:21:38.239 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:22:08.263 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:22:38.284 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:23:08.289 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:23:38.306 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:24:08.318 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:24:38.324 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:25:08.340 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:25:38.354 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:26:08.370 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:26:38.388 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:27:08.401 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:27:38.413 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:28:08.428 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:28:38.443 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:29:08.461 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:29:38.476 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:30:08.495 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:30:38.504 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:31:08.521 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:31:38.526 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:32:08.541 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:32:38.552 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:33:08.557 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:33:38.571 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:34:08.586 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:34:38.600 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:35:08.617 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:35:38.633 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:36:08.647 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:36:38.664 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:37:08.681 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:37:38.693 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:38:08.711 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:38:38.723 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:39:08.730 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:39:38.748 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:40:08.769 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:40:10.650 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2017-12-19 22:40:10.689 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2017-12-19 22:40:10.691 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2017-12-19 22:40:10.703 +02:00 [DBG] Start token request.
2017-12-19 22:40:10.712 +02:00 [DBG] Start client validation
2017-12-19 22:40:10.719 +02:00 [DBG] Start parsing Basic Authentication secret
2017-12-19 22:40:10.724 +02:00 [DBG] Start parsing for secret in post body
2017-12-19 22:40:10.745 +02:00 [DBG] Parser found secret: PostBodySecretParser
2017-12-19 22:40:10.747 +02:00 [DBG] Secret id found: postman
2017-12-19 22:40:11.697 +02:00 [DBG] postman found in database: true
2017-12-19 22:40:11.711 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2017-12-19 22:40:11.713 +02:00 [DBG] Client validation success
2017-12-19 22:40:11.804 +02:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "postman",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLA742PAMRR5:00000001",
  "TimeStamp": "2017-12-19T20:40:11Z",
  "ProcessId": 4240,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-19 22:40:11.818 +02:00 [DBG] Start token request validation
2017-12-19 22:40:11.829 +02:00 [DBG] Start client credentials token request validation
2017-12-19 22:40:11.883 +02:00 [DBG] Found [] identity scopes in database
2017-12-19 22:40:12.129 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-19 22:40:12.150 +02:00 [DBG] Found [] identity scopes in database
2017-12-19 22:40:12.157 +02:00 [DBG] Found ["biometric_api.full_access","biometric_api.read_only"] API scopes in database
2017-12-19 22:40:12.163 +02:00 [DBG] postman credentials token request validation success
2017-12-19 22:40:12.193 +02:00 [INF] Token request validation success
{
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "GrantType": "client_credentials",
  "Scopes": "biometric_api.full_access",
  "Raw": {
    "client_id": "postman",
    "client_secret": "***REDACTED***",
    "grant_type": "client_credentials",
    "scope": "biometric_api.full_access",
    "username": "bob",
    "password": "***REDACTED***"
  }
}
2017-12-19 22:40:12.224 +02:00 [DBG] Getting claims for access token for client: postman
2017-12-19 22:40:12.317 +02:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "postman",
  "ClientName": "Postman Windows Client dev tests",
  "Endpoint": "Token",
  "Scopes": "biometric_api.full_access",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****wZGQ"
    }
  ],
  "ActivityId": "0HLA742PAMRR5:00000001",
  "TimeStamp": "2017-12-19T20:40:12Z",
  "ProcessId": 4240,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2017-12-19 22:40:12.325 +02:00 [DBG] Token request success.
2017-12-19 22:40:38.786 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:41:08.791 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:41:38.802 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:42:08.821 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:42:38.835 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:43:08.851 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:43:38.857 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:44:08.871 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:44:38.887 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:45:08.899 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:45:38.914 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:46:08.926 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:46:38.932 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:47:08.949 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:47:38.962 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:48:08.973 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:48:38.980 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:49:08.992 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:49:39.008 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:50:09.022 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:50:39.025 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:51:09.047 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:51:39.059 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:52:09.072 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:52:39.084 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:53:09.100 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:53:39.104 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:54:09.120 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:54:39.132 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:55:09.145 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:55:39.150 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:56:09.162 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:56:39.167 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:57:09.176 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:57:39.194 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:58:09.209 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:58:39.227 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:59:09.241 +02:00 [INF] Clearing 0 tokens
2017-12-19 22:59:39.255 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:00:09.271 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:00:39.275 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:01:09.287 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:01:39.302 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:02:09.319 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:02:39.332 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:03:09.351 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:03:39.364 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:04:09.370 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:04:39.381 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:05:09.399 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:05:39.414 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:06:09.432 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:06:39.446 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:07:09.461 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:07:39.476 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:08:09.490 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:08:39.506 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:09:09.523 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:09:39.539 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:10:09.552 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:10:39.569 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:11:09.583 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:11:39.600 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:12:09.607 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:12:39.619 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:13:09.632 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:13:39.649 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:14:09.663 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:14:39.677 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:15:09.682 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:15:39.693 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:16:09.705 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:16:39.709 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:17:09.726 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:17:39.740 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:18:09.755 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:18:39.761 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:19:09.771 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:19:39.776 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:20:09.788 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:20:39.804 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:21:09.816 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:21:39.823 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:22:09.837 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:22:39.853 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:23:09.867 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:23:39.885 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:24:09.898 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:24:39.904 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:25:09.924 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:25:39.928 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:26:09.944 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:26:39.959 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:27:09.965 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:27:39.979 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:28:09.991 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:28:40.006 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:29:10.023 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:29:40.039 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:30:10.052 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:30:40.058 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:31:10.072 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:31:40.084 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:32:10.098 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:32:40.106 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:33:10.119 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:33:40.133 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:34:10.145 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:34:40.151 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:35:10.164 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:35:40.180 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:36:10.195 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:36:40.209 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:37:10.225 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:37:40.241 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:38:10.259 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:38:40.275 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:39:10.288 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:39:40.301 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:40:10.308 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:40:40.322 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:41:10.335 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:41:40.350 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:42:10.364 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:42:40.384 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:43:10.399 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:43:40.415 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:44:10.432 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:44:40.449 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:45:10.469 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:45:40.485 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:46:10.500 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:46:40.506 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:47:10.526 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:47:40.540 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:48:10.557 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:48:40.568 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:49:10.573 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:49:40.587 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:50:10.604 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:50:40.615 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:51:10.631 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:51:40.648 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:52:10.666 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:52:40.677 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:53:10.682 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:53:40.694 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:54:10.708 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:54:40.715 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:55:10.726 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:55:40.742 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:56:10.758 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:56:40.772 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:57:10.786 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:57:40.792 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:58:10.805 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:58:40.809 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:59:10.821 +02:00 [INF] Clearing 0 tokens
2017-12-19 23:59:40.833 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:00:10.851 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:00:40.865 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:01:10.871 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:01:40.880 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:02:10.897 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:02:40.912 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:03:10.929 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:03:40.948 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:04:10.967 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:04:40.982 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:05:10.996 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:05:41.010 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:06:11.023 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:06:41.038 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:07:11.054 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:07:41.069 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:08:11.084 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:08:41.100 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:09:11.114 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:09:41.120 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:10:11.130 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:10:41.150 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:11:11.166 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:11:41.181 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:12:11.193 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:12:41.214 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:13:11.229 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:13:41.241 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:14:11.259 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:14:41.271 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:15:11.277 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:15:41.287 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:16:11.291 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:16:41.303 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:17:11.319 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:17:41.340 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:18:11.349 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:18:41.355 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:19:11.365 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:19:41.370 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:20:11.383 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:20:41.400 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:21:11.414 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:21:41.432 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:22:11.445 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:22:41.460 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:23:11.476 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:23:41.490 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:24:11.507 +02:00 [INF] Clearing 0 tokens
2017-12-20 00:24:21.779 +02:00 [DBG] TaskCanceledException. Exiting.
2017-12-20 00:24:21.823 +02:00 [DBG] Stopping token cleanup
